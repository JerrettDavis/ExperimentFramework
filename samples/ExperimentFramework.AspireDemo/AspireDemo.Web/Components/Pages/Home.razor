@page "/"
@using AspireDemo.Web.Components.Shared
@using Microsoft.AspNetCore.Components.Authorization
@layout AspireDemo.Web.Components.Layout.MinimalLayout
@inject AuthenticationStateProvider AuthenticationStateProvider

<SetPageTitle Title="AspireDemo - ExperimentFramework" />

<div style="max-width: 1200px; margin: 0 auto; padding: 60px 20px; font-family: system-ui, -apple-system, sans-serif;">
    <AuthorizeView>
        <Authorized>
            <div style="text-align: right; margin-bottom: 20px;">
                <span style="color: #666; margin-right: 12px;">Signed in as <strong>@context.User.Identity?.Name</strong></span>
                <a href="/Account/Logout" style="color: #667eea; text-decoration: none; font-weight: 500;">Sign Out</a>
            </div>
        </Authorized>
        <NotAuthorized>
            <div style="text-align: right; margin-bottom: 20px;">
                <a href="/Account/Login" style="color: #667eea; text-decoration: none; font-weight: 500;">Sign In</a>
            </div>
        </NotAuthorized>
    </AuthorizeView>

    <div style="text-align: center; margin-bottom: 60px;">
        <h1 style="font-size: 3rem; font-weight: 700; margin-bottom: 20px;">
            ExperimentFramework
            <span style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                AspireDemo
            </span>
        </h1>
        <p style="font-size: 1.25rem; color: #666; max-width: 600px; margin: 0 auto;">
            Explore the full ExperimentFramework capabilities with .NET Aspire integration
        </p>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 40px;">
        <a href="/dashboard" style="text-decoration: none; color: inherit;">
            <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 30px; transition: all 0.2s; cursor: pointer;"
                 onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-4px)'; this.style.boxShadow='0 10px 40px rgba(102, 126, 234, 0.2)';"
                 onmouseout="this.style.borderColor='#e5e7eb'; this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <path d="M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z"/>
                    </svg>
                </div>
                <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 12px;">Experiment Dashboard</h2>
                <p style="color: #666; line-height: 1.6;">
                    Enterprise-grade dashboard for managing A/B tests, feature flags, analytics, governance workflows, and more.
                </p>
                <div style="margin-top: 20px; color: #667eea; font-weight: 500;">
                    Open Dashboard →
                </div>
            </div>
        </a>

        <a href="/demo" style="text-decoration: none; color: inherit;">
            <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 30px; transition: all 0.2s; cursor: pointer;"
                 onmouseover="this.style.borderColor='#10b981'; this.style.transform='translateY(-4px)'; this.style.boxShadow='0 10px 40px rgba(16, 185, 129, 0.2)';"
                 onmouseout="this.style.borderColor='#e5e7eb'; this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                    </svg>
                </div>
                <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 12px;">Live Test Lab</h2>
                <p style="color: #666; line-height: 1.6;">
                    Interactive demonstration of experiment assignment, variant testing, and real-time experimentation.
                </p>
                <div style="margin-top: 20px; color: #10b981; font-weight: 500;">
                    Try Demo →
                </div>
            </div>
        </a>
    </div>

    <div style="margin-top: 60px; padding: 30px; background: #f9fafb; border-radius: 12px; border-left: 4px solid #667eea;">
        <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">About This Demo</h3>
        <p style="color: #666; line-height: 1.8; margin-bottom: 12px;">
            This AspireDemo showcases the ExperimentFramework integrated with .NET Aspire for distributed application development.
            It includes:
        </p>
        <ul style="color: #666; line-height: 2; margin-left: 20px;">
            <li><strong>Experiment Dashboard</strong> - Manage experiments, view analytics, configure rollouts and targeting</li>
            <li><strong>API Service</strong> - Backend service with experiment integration</li>
            <li><strong>TechBlog Demo</strong> - Real-world blog application demonstrating plugin architecture</li>
            <li><strong>Service Discovery</strong> - Aspire-managed service communication</li>
            <li><strong>Telemetry</strong> - Distributed tracing and metrics via OpenTelemetry</li>
        </ul>
    </div>
</div>
